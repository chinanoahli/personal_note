<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="MacOS 使用技巧 #   收录一些MacOS系统目前遇到过的问题的解决方案。
  sudo 要求输入管理员帐号的密码，输入密码时不会显示 ∙ 或 *，确保输入无误后按 enter/return 即可。
  禁用 「App」尚未针对您的Mac优化 提示 #  打开 Terminal 根据需要运行以下命令
   命令作用 命令 测试环境     禁用最佳化提示 defaults write -g CSUIDisable32BitWarning -boolean TRUE MacOS 10.14.6 (18G84) 通过   启用最佳化提示 defaults delete -g CSUIDisable32BitWarning 未测试   查看当前设置 defaults read -g CSUIDisable32BitWarning 未测试    来源： #   Apple官方介绍页面 How to suppress alert &lsquo;this app is not optimized for your Mac&rsquo;   修改 hostname #  本技巧可以在你的计算机名(Hostname)加入非英文字符。">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="MacOS 使用技巧" />
<meta property="og:description" content="MacOS 使用技巧 #   收录一些MacOS系统目前遇到过的问题的解决方案。
  sudo 要求输入管理员帐号的密码，输入密码时不会显示 ∙ 或 *，确保输入无误后按 enter/return 即可。
  禁用 「App」尚未针对您的Mac优化 提示 #  打开 Terminal 根据需要运行以下命令
   命令作用 命令 测试环境     禁用最佳化提示 defaults write -g CSUIDisable32BitWarning -boolean TRUE MacOS 10.14.6 (18G84) 通过   启用最佳化提示 defaults delete -g CSUIDisable32BitWarning 未测试   查看当前设置 defaults read -g CSUIDisable32BitWarning 未测试    来源： #   Apple官方介绍页面 How to suppress alert &lsquo;this app is not optimized for your Mac&rsquo;   修改 hostname #  本技巧可以在你的计算机名(Hostname)加入非英文字符。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/softUsage/operatingSystem/macOS/tweaks/" />
<meta property="article:published_time" content="2023-10-23T21:14:35+09:00" />
<meta property="article:modified_time" content="2023-10-23T21:14:35+09:00" />
<title>MacOS 使用技巧 | chinanoahli&#39;s note</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.716d4b848265c9ee6b261c3ac980c9169636a3adfefad4e093b6852674a71f23.css" ><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>chinanoahli&#39;s note</span>
  </a>
</h2>













  <ul>
<li><a href="/">笔记总目录</a>
<ul>
<li><a href="/art/">美术学习笔记</a>
<ul>
<li><a href="/art/#onlineCourse">课程笔记</a>
<ul>
<li><a href="/art/krenzArtwork/#krenz">Krenz 绘画教室</a>
<ul>
<li><a href="/art/krenzArtwork/#krenz_perspective">基础透视与结构</a></li>
<li><a href="/art/krenzArtwork/#krenz_digitalpainting">光影与色彩</a></li>
<li><a href="/art/krenzArtwork/#krenz_dynamicshape">动态与构成</a></li>
</ul>
</li>
<li><a href="/art/chuns/#chuns">画画的春哥</a>
<ul>
<li><a href="/art/chuns/#chuns_HumanBodyStructure">人体结构基础课</a></li>
<li><a href="/art/chuns/#chuns_CharacterDynamicSketch">人物动态速写塑造课</a></li>
</ul>
</li>
<li><a href="/art/ants/#ants">自在涂形堂</a>
<ul>
<li><a href="/art/ants/#ants_graphicDesign">图形·平设</a></li>
<li><a href="/art/ants/#ants_humanBodyDesign">素体·体态</a></li>
<li><a href="/art/ants/#ants_propBall">道具球</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/art/#selfStudy">自学笔记</a>
<ul>
<li><a href="/art/selfStudy/Blender/">Blender 学习笔记</a></li>
</ul>
</li>
<li><a href="/art/#myArtNote">个人思考及经验总结</a></li>
</ul>
</li>
<li><a href="/music/">音乐学习笔记</a>
<ul>
<li><a href="/music/#onlineCourse">课程笔记</a></li>
<li><a href="/music/#selfStudy">自学笔记</a>
<ul>
<li><a href="/music/selfStudy/musicTheory/#selfStudy">乐理</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/game/">游戏笔记</a>
<ul>
<li><a href="/game/#steam">Steam</a></li>
<li><a href="/game/#dwarfFortress">矮人要塞个人研究 (绝赞弃坑中)</a></li>
<li><a href="/game/#steamOS">SteamOS</a></li>
<li><a href="/game/#nSwitch">Nintendo Switch</a></li>
</ul>
</li>
<li><a href="/softUsage/">软件使用笔记</a>
<ul>
<li><a href="/softUsage/#operatingSystem">操作系统</a></li>
</ul>
</li>
</ul>
</li>
</ul>










</nav>




  <script>(function(){var menu=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>MacOS 使用技巧</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#禁用-app尚未针对您的mac优化-提示">禁用 <em>「App」尚未针对您的Mac优化</em> 提示</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#修改-hostname">修改 hostname</a></li>
    <li><a href="#修改-dock-图标大小">修改 Dock 图标大小</a></li>
    <li><a href="#解包-pkg-文件">解包 PKG 文件</a></li>
    <li><a href="#打开关闭-siphttpssupportapplecomzh-cnht204899-安全机制高危操作">打开/关闭 <a href="https://support.apple.com/zh-cn/HT204899"><em>SIP</em></a> 安全机制(高危操作)</a></li>
    <li><a href="#在恢复功能httpssupportapplecomzh-cnht201314模式下修复全盘文件权限错误">在「<a href="https://support.apple.com/zh-cn/HT201314">恢复功能</a>」模式下修复全盘文件权限错误</a></li>
    <li><a href="#通过terminal打开所有来源">通过<em>Terminal</em>打开「所有来源」</a></li>
    <li><a href="#手动删除出错的升级安装包">手动删除出错的升级安装包</a></li>
    <li><a href="#查看修改默认xcode的路径">查看/修改默认XCode的路径</a></li>
    <li><a href="#ibooks数据目录">iBooks数据目录</a></li>
    <li><a href="#重建打开方式菜单">重建「打开方式」菜单</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#修改dock文件夹显示的图标大小">修改Dock文件夹显示的图标大小</a></li>
    <li><a href="#修改系统登录锁屏界面的背景图片">修改系统登录/锁屏界面的背景图片</a></li>
    <li><a href="#去除文件特殊属性">去除文件「@」特殊属性</a></li>
    <li><a href="#创建-macos-的安装媒体">创建 MacOS 的安装媒体</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#重建-launchpad-数据库">重建 Launchpad 数据库</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#优雅地在macos中隐藏文件">优雅地在MacOS中隐藏文件</a></li>
    <li><a href="#修改锁屏或开机登入用户账户时的背景图片">修改锁屏或开机登入用户账户时的背景图片</a></li>
    <li><a href="#在日历应用中订阅苹果官方节庆日历">在日历应用中订阅苹果官方节庆日历</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#禁止某个分区自动挂载">禁止某个分区自动挂载</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="macos-使用技巧">
  MacOS 使用技巧
  <a class="anchor" href="#macos-%e4%bd%bf%e7%94%a8%e6%8a%80%e5%b7%a7">#</a>
</h1>
<blockquote>
<p>收录一些MacOS系统目前遇到过的问题的解决方案。</p>
</blockquote>
<blockquote>
<p><strong>sudo</strong> 要求输入管理员帐号的密码，输入密码时不会显示 <strong>∙</strong> 或 <strong>*</strong>，确保输入无误后按 <strong>enter/return</strong> 即可。</p>
</blockquote>
<hr>
<h2 id="禁用-app尚未针对您的mac优化-提示">
  禁用 <em>「App」尚未针对您的Mac优化</em> 提示
  <a class="anchor" href="#%e7%a6%81%e7%94%a8-app%e5%b0%9a%e6%9c%aa%e9%92%88%e5%af%b9%e6%82%a8%e7%9a%84mac%e4%bc%98%e5%8c%96-%e6%8f%90%e7%a4%ba">#</a>
</h2>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<table>
<thead>
<tr>
<th>命令作用</th>
<th>命令</th>
<th>测试环境</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>禁用</strong>最佳化提示</td>
<td><code>defaults write -g CSUIDisable32BitWarning -boolean TRUE</code></td>
<td>MacOS 10.14.6 (18G84) 通过</td>
</tr>
<tr>
<td><em>启用</em>最佳化提示</td>
<td><code>defaults delete -g CSUIDisable32BitWarning</code></td>
<td>未测试</td>
</tr>
<tr>
<td>查看当前设置</td>
<td><code>defaults read -g CSUIDisable32BitWarning</code></td>
<td>未测试</td>
</tr>
</tbody>
</table>
<p><img src="https://github-share-1304366332.cos.ap-guangzhou.myqcloud.com/softUsage/operatingSystem/macOS/img001.jfif" alt="示例图像" /></p>
<h4 id="来源">
  来源：
  <a class="anchor" href="#%e6%9d%a5%e6%ba%90">#</a>
</h4>
<ol>
<li><a href="https://support.apple.com/zh-cn/HT208436">Apple官方介绍页面</a></li>
<li><a href="https://apple.stackexchange.com/questions/324139/how-to-suppress-alert-this-app-is-not-optimized-for-your-mac">How to suppress alert &lsquo;this app is not optimized for your Mac&rsquo;</a></li>
</ol>
<hr>
<h2 id="修改-hostname">
  修改 hostname
  <a class="anchor" href="#%e4%bf%ae%e6%94%b9-hostname">#</a>
</h2>
<p>本技巧可以在你的计算机名(Hostname)加入非英文字符。</p>
<blockquote>
<p>至于在不同网络环境和不同系统通讯的情况下，非英文字符的兼容性还请自行测试。</p>
</blockquote>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo scutil --set ComputerName 计算机名
sudo scutil --set HostName 计算机名
</code></pre></div><hr>
<h2 id="修改-dock-图标大小">
  修改 Dock 图标大小
  <a class="anchor" href="#%e4%bf%ae%e6%94%b9-dock-%e5%9b%be%e6%a0%87%e5%a4%a7%e5%b0%8f">#</a>
</h2>
<p>本技巧可以使强迫症患者不再需要跟无法量化的水平调节器打交道。</p>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">defaults write com.apple.dock largesize -float <span style="color:#ae81ff">88</span>  <span style="color:#75715e"># 鼠标经过(放大)时图标的大小</span>
defaults write com.apple.dock tilesize -int <span style="color:#ae81ff">48</span>     <span style="color:#75715e"># 普通情况下图标的大小</span>
killall Dock                                       <span style="color:#75715e"># 设置完要重启一下Dock才能生效</span>
</code></pre></div><hr>
<h2 id="解包-pkg-文件">
  解包 PKG 文件
  <a class="anchor" href="#%e8%a7%a3%e5%8c%85-pkg-%e6%96%87%e4%bb%b6">#</a>
</h2>
<p>使用前请在PKG包上右键看看有没有<em>显示包内容</em>选项，如果有，证明这个安装包并非单文件，而是文件夹，直接点击<em>显示包内容</em>即可查看内容。</p>
<blockquote>
<p>PKG指的是PKG格式的MacOS软件包安装文件，并非所有PKG都能使用此技巧！</p>
</blockquote>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd path/to/pkg/file
pkgutil --expand ExampleApp.pkg  ExampleApp.unpkg  <span style="color:#75715e"># 解包PKG 10.12及之前的系统解包目标路径一定要加上`.unpkg`否则会解包失败</span>
pkgutil --flatten ExampleApp.unpkg ExampleApp.pkg  <span style="color:#75715e"># 打包PKG (未测试)</span>

<span style="color:#75715e"># 解包后请在解包出来的目录中寻找 Payload 文件，此文件包含真正的应用文件。</span>

cd path/to/Payload/file
cat Payload | gzip -d | cpio -id                   <span style="color:#75715e"># 解包出真正的应用文件</span>
</code></pre></div><hr>
打开/关闭 <h2 id="打开关闭-siphttpssupportapplecomzh-cnht204899-安全机制高危操作">
  <a href="https://support.apple.com/zh-cn/HT204899"><em>SIP</em></a> 安全机制(高危操作)
  <a class="anchor" href="#%e6%89%93%e5%bc%80%e5%85%b3%e9%97%ad-siphttpssupportapplecomzh-cnht204899-%e5%ae%89%e5%85%a8%e6%9c%ba%e5%88%b6%e9%ab%98%e5%8d%b1%e6%93%8d%e4%bd%9c">#</a>
</h2>
<blockquote>
<p>本操作可能导致系统不可逆损坏，请在执行前确保你清楚自己正在干什么！！</p>
</blockquote>
<p>使用此方法需要先将Mac关机，然后按住 <code>Command + R</code>开机，请一直按着<code>CMD + R</code>直到完全进入「<a href="https://support.apple.com/zh-cn/HT201314">恢复功能</a>」模式。</p>
<p>在「恢复功能」模式下打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">csrutil disable  <span style="color:#75715e"># 禁用SIP</span>
csrutil enable   <span style="color:#75715e"># 启用SIP</span>
csrutil clear    <span style="color:#75715e"># 重置SIP (默认值为启用)</span>
csrutil status   <span style="color:#75715e"># 查看SIP设置 (可在正常系统下使用本命令)</span>
</code></pre></div><hr>
在「<h2 id="在恢复功能httpssupportapplecomzh-cnht201314模式下修复全盘文件权限错误">
  <a href="https://support.apple.com/zh-cn/HT201314">恢复功能</a>」模式下修复全盘文件权限错误
  <a class="anchor" href="#%e5%9c%a8%e6%81%a2%e5%a4%8d%e5%8a%9f%e8%83%bdhttpssupportapplecomzh-cnht201314%e6%a8%a1%e5%bc%8f%e4%b8%8b%e4%bf%ae%e5%a4%8d%e5%85%a8%e7%9b%98%e6%96%87%e4%bb%b6%e6%9d%83%e9%99%90%e9%94%99%e8%af%af">#</a>
</h2>
<blockquote>
<p>此方法<strong>仅</strong>适用于<strong>尚未</strong>应用 <a href="https://support.apple.com/zh-cn/HT204899"><em>SIP</em></a> 安全机制的系统(OS X El Capitan以前的系统，不包括OS X El Capitan)，相关命令行工具在包含SIP的系统上已经被苹果<strong>移除</strong>！因此强烈<strong>不</strong>建议在日常使用中长时间关闭SIP保护！</p>
</blockquote>
<p>使用此方法需要先将Mac关机，然后按住 <code>Command + R</code>开机，请一直按着<code>CMD + R</code>直到完全进入「恢复功能」模式。</p>
<p>在「恢复功能」模式下打开 <em>Terminal</em> 根据需要运行以下命令，假设你的系统盘盘符为「Macintosh HD」</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo /usr/libexec/repair_packages --verify --standard-pkgs /Volumes/Macintosh<span style="color:#ae81ff">\ </span>HD/
                                                                    ^ 改成你系统盘的名称
sudo /usr/libexec/repair_packages --repair --standard-pkgs --volume /Volumes/Macintosh<span style="color:#ae81ff">\ </span>HD/
                                                                             ^ 改成你系统盘的名称
</code></pre></div><hr>
<h2 id="通过terminal打开所有来源">
  通过<em>Terminal</em>打开「所有来源」
  <a class="anchor" href="#%e9%80%9a%e8%bf%87terminal%e6%89%93%e5%bc%80%e6%89%80%e6%9c%89%e6%9d%a5%e6%ba%90">#</a>
</h2>
<blockquote>
<p>允许从以下来源下载的App</p>
</blockquote>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<table>
<thead>
<tr>
<th>命令作用</th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>打开</strong>「所有来源」</td>
<td><code>sudo spctl --master-disable</code></td>
</tr>
<tr>
<td><em>关闭</em>「所有来源」</td>
<td><code>sudo spctl --master-enable</code></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="手动删除出错的升级安装包">
  手动删除出错的升级安装包
  <a class="anchor" href="#%e6%89%8b%e5%8a%a8%e5%88%a0%e9%99%a4%e5%87%ba%e9%94%99%e7%9a%84%e5%8d%87%e7%ba%a7%e5%ae%89%e8%a3%85%e5%8c%85">#</a>
</h2>
<blockquote>
<p>包括系统更新/AppStore应用更新</p>
</blockquote>
<p>有时在更新过程中，因为网络或各种各样的问题导致安装包下载过程中出现错误，且出错后无法继续下载或下载完成后无法安装等情况，此时只需要将出错的安装包文件删除并重新下载即可。</p>
<p>升级安装包路径，删除里面的所有文件，只保留<em>ProductMetadata.plist</em>文件即可</p>
<p>打开 <em>Terminal</em> 根据需要运行以下命令可直接打开升级包所在的目录</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">open /Library/Updates/
</code></pre></div><hr>
<h2 id="查看修改默认xcode的路径">
  查看/修改默认XCode的路径
  <a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e4%bf%ae%e6%94%b9%e9%bb%98%e8%ae%a4xcode%e7%9a%84%e8%b7%af%e5%be%84">#</a>
</h2>
<p>MacOS系统中只能同时指定一个XCode作为开发工具，如果有多个不同版本的XCode需要手动切换。</p>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<table>
<thead>
<tr>
<th>命令作用</th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>查看</em>当前启用的Xcode路径</td>
<td><code>xcode-select --print-path</code></td>
</tr>
<tr>
<td><strong>修改</strong>当前启用的Xcode路径</td>
<td><code>sudo xcode-select -switch path/to/Xcode.app</code></td>
</tr>
<tr>
<td><strong>安装</strong>XCode<em>命令行工具</em></td>
<td><code>sudo xcode-select --install</code></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="ibooks数据目录">
  iBooks数据目录
  <a class="anchor" href="#ibooks%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95">#</a>
</h2>
<p>打开 <em>Terminal</em> 根据需要运行以下命令可直接打开iBook数据目录</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">open ~/Library/Containers/com.apple.BKAgentService/Data/Documents/iBooks/Books
</code></pre></div><hr>
<h2 id="重建打开方式菜单">
  重建「打开方式」菜单
  <a class="anchor" href="#%e9%87%8d%e5%bb%ba%e6%89%93%e5%bc%80%e6%96%b9%e5%bc%8f%e8%8f%9c%e5%8d%95">#</a>
</h2>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -kill -r -domain local -domain user
</code></pre></div><h4 id="来源-1">
  来源：
  <a class="anchor" href="#%e6%9d%a5%e6%ba%90-1">#</a>
</h4>
<ol>
<li><a href="https://support.apple.com/zh-cn/HT201290">如何搜索适用于您的文件的应用</a></li>
</ol>
<hr>
<h2 id="修改dock文件夹显示的图标大小">
  修改Dock文件夹显示的图标大小
  <a class="anchor" href="#%e4%bf%ae%e6%94%b9dock%e6%96%87%e4%bb%b6%e5%a4%b9%e6%98%be%e7%a4%ba%e7%9a%84%e5%9b%be%e6%a0%87%e5%a4%a7%e5%b0%8f">#</a>
</h2>
<p>先点击在Dock中停靠的任意文件夹，使其弹出内容显示框，然后根据需要按下下面的组合键进行调整</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">Command <span style="color:#f92672">=</span>  <span style="color:#75715e"># 放大图标显示 Command键 加 = (shift 是 + 那个 =)</span>
Command -  <span style="color:#75715e"># 缩小图标显示 Command键 加 - (shift 是 _ 那个 -)</span>
</code></pre></div><blockquote>
<p>在一些文本编辑应用中你也可以尝试使用这组快捷键来调整字体大小。</p>
</blockquote>
<hr>
<h2 id="修改系统登录锁屏界面的背景图片">
  修改系统登录/锁屏界面的背景图片
  <a class="anchor" href="#%e4%bf%ae%e6%94%b9%e7%b3%bb%e7%bb%9f%e7%99%bb%e5%bd%95%e9%94%81%e5%b1%8f%e7%95%8c%e9%9d%a2%e7%9a%84%e8%83%8c%e6%99%af%e5%9b%be%e7%89%87">#</a>
</h2>
<blockquote>
<p>去除模糊效果，仅适用于10.12之前的系统</p>
</blockquote>
<p>使用喜欢的图片替换以下文件即可</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/Library/Caches/com.apple.desktop.admin.png
</code></pre></div><hr>
<h2 id="去除文件特殊属性">
  去除文件「@」特殊属性
  <a class="anchor" href="#%e5%8e%bb%e9%99%a4%e6%96%87%e4%bb%b6%e7%89%b9%e6%ae%8a%e5%b1%9e%e6%80%a7">#</a>
</h2>
<blockquote>
<p>在HFS+文件系统里，本操作可能使软连接失效，使用时请注意。</p>
</blockquote>
<p>MacOS的Finder可以给文件或文件夹加上颜色标签，此功能需要创建一个名为<code>._原文件名</code>的文件，在MacOS上表现为通过终端列出此文件会带有特殊的「@」属性。
在可移动存储媒体里面，这些属性如果在别的系统中表现出来会非常杂乱。但可以通过命令方便地去除这些属性。</p>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">xattr -rc 文件名/文件夹名
</code></pre></div><p>使用示例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">bash-5.0$ ls -ahl
-rw-r--r--@  <span style="color:#ae81ff">1</span> user  staff     0B Aug  <span style="color:#ae81ff">3</span> 11:40 NewFile.txt

          ^ 「@」属性标记，以上为实验性地为一个文件加上颜色标签后的结果。

bash-5.0$ xattr -rc NewFile.txt  <span style="color:#75715e"># 通过 xattr -rc 文件名/文件夹名 可以递归地删除文件/文件夹里面所有文件的「@」属性标记。</span>

bash-5.0$ ls -ahl
-rw-r--r--   <span style="color:#ae81ff">1</span> user  staff     0B Aug  <span style="color:#ae81ff">3</span> 11:40 NewFile.txt

          ^ 执行后「@」属性标记消失。
</code></pre></div><hr>
<h2 id="创建-macos-的安装媒体">
  创建 MacOS 的安装媒体
  <a class="anchor" href="#%e5%88%9b%e5%bb%ba-macos-%e7%9a%84%e5%ae%89%e8%a3%85%e5%aa%92%e4%bd%93">#</a>
</h2>
<blockquote>
<p>适用于 OS X 10.10 及以上系统</p>
</blockquote>
<blockquote>
<p>本操作会对U盘<strong>重新分区</strong>，请提前备份U盘内容！</p>
</blockquote>
<p>从 App Store 下载最新的系统安装程序。
提前准备一只容量最小为 8G 的U盘并格式化，卷标（盘符名称）随意(此处以<code>Untitled</code>作为示例)。</p>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo <span style="color:#e6db74">&#34;path/to/Installer.app/Contents/Resources/createinstallmedia&#34;</span> --volume /Volumes/Untitled --applicationpath <span style="color:#e6db74">&#34;path/to/Installer.app/Contents/Resources/createinstallmedia&#34;</span> --nointeraction
                                                                                     ^ 改成你U盘的卷标
</code></pre></div><h4 id="来源-2">
  来源：
  <a class="anchor" href="#%e6%9d%a5%e6%ba%90-2">#</a>
</h4>
<ol>
<li><a href="http://www.macworld.com/article/2367748/how-to-make-a-bootable-os-x-10-10-yosemite-install-drive.html">How to make a bootable OS X 10.10 Yosemite install drive</a></li>
</ol>
<hr>
<h2 id="重建-launchpad-数据库">
  重建 Launchpad 数据库
  <a class="anchor" href="#%e9%87%8d%e5%bb%ba-launchpad-%e6%95%b0%e6%8d%ae%e5%ba%93">#</a>
</h2>
<blockquote>
<p>适用于 OS X 10.10 及以上系统</p>
</blockquote>
<blockquote>
<p>本操作会重置Launchpad，所有系统应用的图标都会回到系统<strong>默认</strong>的位置，而自己安装的应用则会<strong>随机</strong>排列到第二页及以后的位置。</p>
</blockquote>
<p>本操作可以解决Launchpad里面还残留了已经删除的App图标，或者出现图标错位，删除不了的情况。</p>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">defaults write com.apple.dock ResetLaunchPad -bool true
killall Dock
</code></pre></div><p><img src="https://github-share-1304366332.cos.ap-guangzhou.myqcloud.com/softUsage/operatingSystem/macOS/img002.jfif" alt="示例图像" /></p>
<h4 id="来源-3">
  来源：
  <a class="anchor" href="#%e6%9d%a5%e6%ba%90-3">#</a>
</h4>
<ol>
<li><a href="https://mariusvw.com/2017/10/21/how-to-rebuild-launchpad-database-in-os-x-yosemite-10-10-and-later/">How to Rebuild Launchpad Database in OS X Yosemite (10.10) and Later</a></li>
</ol>
<hr>
<h2 id="优雅地在macos中隐藏文件">
  优雅地在MacOS中隐藏文件
  <a class="anchor" href="#%e4%bc%98%e9%9b%85%e5%9c%b0%e5%9c%a8macos%e4%b8%ad%e9%9a%90%e8%97%8f%e6%96%87%e4%bb%b6">#</a>
</h2>
<p>本操作利用MacOS的「<a href="#user-content-%e5%8e%bb%e9%99%a4%e6%96%87%e4%bb%b6%e7%89%b9%e6%ae%8a%e5%b1%9e%e6%80%a7">@</a>」属性隐藏，而非Unix标准的将文件名或文件夹名改成<code>.</code>开头的办法。</p>
<p>利用本操作可以隐藏<code>/Applications</code>中的系统应用，而不对系统造成损害或破坏性修改。</p>
<blockquote>
<p>在<strong>MacOS 10.14</strong>及以后系统中，一部分系统应用已经以至<code>/System/Applications</code>目录下。</p>
</blockquote>
<p>（启用了<a href="https://support.apple.com/zh-cn/HT204899"><em>SIP</em></a>的系统，若要修改<code>/Applications</code>中的系统应用，请到「<a href="https://support.apple.com/zh-cn/HT201314">恢复功能</a>」模式下使用本命令；或先行关闭SIP，修改完毕后再重新打开SIP）</p>
<p>打开 <em>Terminal</em> 根据需要运行以下命令</p>
<table>
<thead>
<tr>
<th>命令作用</th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>隐藏</strong>文件 / 文件夹</td>
<td><code>chflags hidden 文件/文件夹</code></td>
</tr>
<tr>
<td>取消隐藏</td>
<td><code>chflags nohidden  文件/文件夹</code></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="修改锁屏或开机登入用户账户时的背景图片">
  修改锁屏或开机登入用户账户时的背景图片
  <a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%94%81%e5%b1%8f%e6%88%96%e5%bc%80%e6%9c%ba%e7%99%bb%e5%85%a5%e7%94%a8%e6%88%b7%e8%b4%a6%e6%88%b7%e6%97%b6%e7%9a%84%e8%83%8c%e6%99%af%e5%9b%be%e7%89%87">#</a>
</h2>
<blockquote>
<p>适用于 MacOS 10.15 及以上系统，其他版本尚未出现此情况</p>
</blockquote>
<p>本操作可以修复因误操作，设置了错误或不适宜的图片作为桌面背景后被系统记录，导致每次登入用户账户在输入密码的步骤都显示该图片作为背景图片的情况。</p>
<p>删除以下路径的图片即可</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/Library/Caches/Desktop Pictures/89EE1E2D-C40A-40B6-A7F0-F7C3DCF2EB41/lockscreen.png
                                 ^ 此为用户账户UUID，可以在下面的位置进行查询
                                   系统偏好设置 &gt; 用户与群组 &gt; 解锁 &gt; 在用户账户上单击鼠标右键 &gt; 进阶选项
</code></pre></div><hr>
<h2 id="在日历应用中订阅苹果官方节庆日历">
  在日历应用中订阅苹果官方节庆日历
  <a class="anchor" href="#%e5%9c%a8%e6%97%a5%e5%8e%86%e5%ba%94%e7%94%a8%e4%b8%ad%e8%ae%a2%e9%98%85%e8%8b%b9%e6%9e%9c%e5%ae%98%e6%96%b9%e8%8a%82%e5%ba%86%e6%97%a5%e5%8e%86">#</a>
</h2>
<p><img src="https://github-share-1304366332.cos.ap-guangzhou.myqcloud.com/softUsage/operatingSystem/macOS/img003.jfif" alt="示例图像" /></p>
<ol>
<li>
<p>在“日历”中，选取“文件”&gt;“新建日历订阅”。</p>
</li>
<li>
<p>输入日历的网址，然后点按“订阅”。</p>
</li>
<li>
<p>输入日历名称，然后选取一种颜色来帮助您在日历上标识这个名称。</p>
</li>
</ol>
<ul>
<li>若为苹果官方提供的日历，则可以自动识别日历名称，如<code>日本の祝日</code>等</li>
</ul>
<ol start="4">
<li>从“位置”菜单中选取“iCloud”，然后点按“好”。</li>
</ol>
<ul>
<li>若不需要iCloud同步，这里可以选“我的Mac上”</li>
</ul>
<pre><code>日本节假日 https://p33-calendars.icloud.com/holidays/jp_ja.ics
大陆节假日 https://p48-calendars.icloud.com/holidays/cn_zh.ics
台湾节假日 https://p48-calendars.icloud.com/holidays/tw_zh.ics
香港节假日 https://p48-calendars.icloud.com/holidays/hk_zh.ics
美国节假日 https://p62-calendars.icloud.com/holidays/us_en.ics
</code></pre><h4 id="来源-4">
  来源：
  <a class="anchor" href="#%e6%9d%a5%e6%ba%90-4">#</a>
</h4>
<ol>
<li>苹果支持知识库编号<a href="https://support.apple.com/zh-cn/HT202361">HT202361</a></li>
</ol>
<hr>
<h2 id="禁止某个分区自动挂载">
  禁止某个分区自动挂载
  <a class="anchor" href="#%e7%a6%81%e6%ad%a2%e6%9f%90%e4%b8%aa%e5%88%86%e5%8c%ba%e8%87%aa%e5%8a%a8%e6%8c%82%e8%bd%bd">#</a>
</h2>
<blockquote>
<p>本操作可以禁止任意分区（可以是任意文件系统，如：NTFS、HFS+等）在系统开机、重启、或拔出USB硬盘后重新连接时自动挂载</p>
</blockquote>
<ol>
<li>先打开 <em>Terminal</em> 运行以下命令。<br/>并记录你需要禁止自动挂载的分区的<strong>IDENTIFIER</strong>。<br/>本文以笔者系统中的<code>Windows_BC</code>分区为例，所以在本例中应该记录的是<code>disk0s3</code></li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ diskutil list    <span style="color:#75715e"># 显示目前连接在电脑上的硬盘信息</span>

<span style="color:#75715e"># 以下是在 macOS 10.15 中的输出示例</span>

/dev/disk0 <span style="color:#f92672">(</span>internal, physical<span style="color:#f92672">)</span>:
   <span style="color:#75715e">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   0:      GUID_partition_scheme                        *500.3 GB   disk0
   1:                        EFI EFI                     209.7 MB   disk0s1
   2:                 Apple_APFS Container disk1         460.0 GB   disk0s2
   3:       Microsoft Basic Data Windows_BC              40.1 GB    disk0s3

/dev/disk1 <span style="color:#f92672">(</span>synthesized<span style="color:#f92672">)</span>:
   <span style="color:#75715e">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   0:      APFS Container Scheme -                      +460.0 GB   disk1
                                 Physical Store disk0s2
   1:                APFS Volume Macintosh HD - 資料     288.3 GB   disk1s1
   2:                APFS Volume Preboot                 83.4 MB    disk1s2
   3:                APFS Volume Recovery                528.1 MB   disk1s3
   4:                APFS Volume VM                      10.7 GB    disk1s4
   5:                APFS Volume Macintosh HD            11.2 GB    disk1s5
</code></pre></div><ol start="2">
<li>继续在 <em>Terminal</em> 运行以下命令，即可得出该分区的详细信息。<br/>记录下该分区的<strong>Volume UUID</strong>，所以在本例中应该记录的是<code>4C31E7AC-26AD-4347-8139-C3DFCEC13DBB</code></li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ diskutil info /dev/disk0s3    <span style="color:#75715e"># 请将例子中的`disk0s3`换成你实际要操作的`IDENTIFIER`</span>

<span style="color:#75715e"># 在我系统中的示例输出，</span>
Device Identifier:         disk0s3
Device Node:               /dev/disk0s3
Whole:                     No
Part of Whole:             disk0

Volume Name:               Windows_BC
Mounted:                   No

Partition Type:            Microsoft Basic Data
File System Personality:   NTFS
Type <span style="color:#f92672">(</span>Bundle<span style="color:#f92672">)</span>:             ntfs
Name <span style="color:#f92672">(</span>User Visible<span style="color:#f92672">)</span>:       Windows NT File System <span style="color:#f92672">(</span>NTFS<span style="color:#f92672">)</span>

OS Can Be Installed:       No
Media Type:                Generic
Protocol:                  PCI
SMART Status:              Verified
Volume UUID:               4C31E7AC-26AD-4347-8139-C3DFCEC13DBB
Disk / Partition UUID:     87B2CB4F-5A5A-46FC-8EF9-5DC36D618B4B
Partition Offset:          <span style="color:#ae81ff">460210569216</span> Bytes <span style="color:#f92672">(</span><span style="color:#ae81ff">898848768</span> 512-Byte-Device-Blocks<span style="color:#f92672">)</span>
<span style="color:#75715e"># 省略一部分输出内容</span>
</code></pre></div><ol start="3">
<li>继续在 <em>Terminal</em> 运行以下命令，并在打开的<strong>nano</strong>编辑器显示的文件最末尾增加一行（<strong>请勿</strong>删除或修改已经存在的任何内容），内容如下所示：</li>
</ol>
<pre><code>$ export EDITOR=nano    # 指定shell编辑器为nano
                        # 如果你安装了自己喜欢的编辑器，也可以改成你自己喜欢的编辑器，如 vim

$ sudo vifs
Password:               # 输入管理员密码然后回车

# 在文件末尾增加以下内容，请将UUID换成你记录下的UUID
UUID=4C31E7AC-26AD-4347-8139-C3DFCEC13DBB none auto noauto,ro

# 如果你使用的是nano编辑器，请按以下步骤保存并退出文件编辑状态
编辑完成后按 control + x (退出编辑器)
最后再键入 Y (保存修改)
</code></pre><ol start="4">
<li>此时已禁止系统对选定的分区进行自动挂载，如果需要取消禁止，可以重复<strong>第3步</strong>，删除对应的<strong>UUID</strong>所在的行即可</li>
</ol>
<blockquote>
<p><strong>Volume UUID</strong>是在分区格式化时由系统自动生成的，此后直到下一次格式化为止一般不再改变。<br/>假如你禁用某分区自动挂载后，又对其进行了格式化操作，可能需要按照以上步骤重新禁用。</p>
</blockquote>
<hr>
<p><a href="../..">上一级</a></p>
<p><a href="/">笔记首页</a></p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function select(element){const selection=window.getSelection();const range=document.createRange();range.selectNodeContents(element);selection.removeAllRanges();selection.addRange(range);}
document.querySelectorAll("pre code").forEach(code=>{code.addEventListener("click",function(event){if(window.getSelection().toString()){return;}
select(code.parentElement);if(navigator.clipboard){navigator.clipboard.writeText(code.parentElement.textContent);}});});})();</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#禁用-app尚未针对您的mac优化-提示">禁用 <em>「App」尚未针对您的Mac优化</em> 提示</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#修改-hostname">修改 hostname</a></li>
    <li><a href="#修改-dock-图标大小">修改 Dock 图标大小</a></li>
    <li><a href="#解包-pkg-文件">解包 PKG 文件</a></li>
    <li><a href="#打开关闭-siphttpssupportapplecomzh-cnht204899-安全机制高危操作">打开/关闭 <a href="https://support.apple.com/zh-cn/HT204899"><em>SIP</em></a> 安全机制(高危操作)</a></li>
    <li><a href="#在恢复功能httpssupportapplecomzh-cnht201314模式下修复全盘文件权限错误">在「<a href="https://support.apple.com/zh-cn/HT201314">恢复功能</a>」模式下修复全盘文件权限错误</a></li>
    <li><a href="#通过terminal打开所有来源">通过<em>Terminal</em>打开「所有来源」</a></li>
    <li><a href="#手动删除出错的升级安装包">手动删除出错的升级安装包</a></li>
    <li><a href="#查看修改默认xcode的路径">查看/修改默认XCode的路径</a></li>
    <li><a href="#ibooks数据目录">iBooks数据目录</a></li>
    <li><a href="#重建打开方式菜单">重建「打开方式」菜单</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#修改dock文件夹显示的图标大小">修改Dock文件夹显示的图标大小</a></li>
    <li><a href="#修改系统登录锁屏界面的背景图片">修改系统登录/锁屏界面的背景图片</a></li>
    <li><a href="#去除文件特殊属性">去除文件「@」特殊属性</a></li>
    <li><a href="#创建-macos-的安装媒体">创建 MacOS 的安装媒体</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#重建-launchpad-数据库">重建 Launchpad 数据库</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#优雅地在macos中隐藏文件">优雅地在MacOS中隐藏文件</a></li>
    <li><a href="#修改锁屏或开机登入用户账户时的背景图片">修改锁屏或开机登入用户账户时的背景图片</a></li>
    <li><a href="#在日历应用中订阅苹果官方节庆日历">在日历应用中订阅苹果官方节庆日历</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#禁止某个分区自动挂载">禁止某个分区自动挂载</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












